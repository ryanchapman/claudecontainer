services:
  claude:
    build:
      context: ./claudecode
    container_name: claudecode
    volumes:
      - ${SRC_FULLPATH:-/tmp}:/src:rw
      - ${HOME}/.claude:/home/node/.claude:rw
      - ${HOME}/.claude.json:/home/node/.claude.json:rw
      - ${HOME}/.claude.json.backup:/home/node/.claude.json.backup:rw
    working_dir: /src/${SRC_BASEDIR:-}
    restart: unless-stopped
    command: sleep infinity
